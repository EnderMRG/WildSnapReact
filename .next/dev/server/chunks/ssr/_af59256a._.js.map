{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/Wildre/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///F:/Wildre/components/ui/radio-group.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as RadioGroupPrimitive from '@radix-ui/react-radio-group'\nimport { CircleIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn('grid gap-3', className)}\n      {...props}\n    />\n  )\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        'border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n}\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0XACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,uLAA6B;YAC5B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,wNAAU;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI9B"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///F:/Wildre/app/detect/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useRef, useEffect } from 'react'\r\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group'\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\n\r\nexport default function DetectPage() {\r\n  const [selectedModel, setSelectedModel] = useState('yolov8n')\r\n  const [confidence, setConfidence] = useState(0.40)\r\n  const [iouThreshold, setIouThreshold] = useState(0.50)\r\n  const [uploadedImage, setUploadedImage] = useState<string | null>(null)\r\n  const [filterAnimals, setFilterAnimals] = useState(true)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [detectionResults, setDetectionResults] = useState<any>(null)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [inputMode, setInputMode] = useState<'upload' | 'webcam' | 'video'>('upload')\r\n  const [isWebcamActive, setIsWebcamActive] = useState(false)\r\n  const [isStartingWebcam, setIsStartingWebcam] = useState(false)\r\n  const [isLiveDetectionActive, setIsLiveDetectionActive] = useState(false)\r\n  const [liveDetectionResults, setLiveDetectionResults] = useState<any>(null)\r\n  const [uploadedVideo, setUploadedVideo] = useState<string | null>(null)\r\n  const [isVideoDetectionActive, setIsVideoDetectionActive] = useState(false)\r\n  const [videoDetectionResults, setVideoDetectionResults] = useState<any>(null)\r\n  const videoRef = useRef<HTMLVideoElement>(null)\r\n  const streamRef = useRef<MediaStream | null>(null)\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const videoPlayerRef = useRef<HTMLVideoElement>(null)\r\n  const videoCanvasRef = useRef<HTMLCanvasElement>(null)\r\n  const detectionIntervalRef = useRef<NodeJS.Timeout | null>(null)\r\n  const videoDetectionIntervalRef = useRef<NodeJS.Timeout | null>(null)\r\n  const isProcessingRef = useRef(false)\r\n  const isVideoProcessingRef = useRef(false)\r\n  const isLiveDetectionActiveRef = useRef(false)\r\n  const isVideoDetectionActiveRef = useRef(false)\r\n\r\n  // Cleanup resources on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (streamRef.current) {\r\n        streamRef.current.getTracks().forEach(track => track.stop())\r\n      }\r\n      if (detectionIntervalRef.current) {\r\n        clearInterval(detectionIntervalRef.current)\r\n      }\r\n      if (videoDetectionIntervalRef.current) {\r\n        clearInterval(videoDetectionIntervalRef.current)\r\n      }\r\n      if (uploadedVideo) {\r\n        URL.revokeObjectURL(uploadedVideo)\r\n      }\r\n    }\r\n  }, [uploadedVideo])\r\n\r\n  // Ensure video plays when stream is set\r\n  useEffect(() => {\r\n    if (videoRef.current && streamRef.current && isWebcamActive) {\r\n      const video = videoRef.current\r\n      const handleCanPlay = () => {\r\n        video.play().catch(err => {\r\n          console.error('Error playing video in useEffect:', err)\r\n        })\r\n      }\r\n      video.addEventListener('canplay', handleCanPlay)\r\n      video.addEventListener('loadedmetadata', handleCanPlay)\r\n      \r\n      // Also try to play immediately\r\n      if (video.readyState >= 2) {\r\n        video.play().catch(console.error)\r\n      }\r\n      \r\n      return () => {\r\n        video.removeEventListener('canplay', handleCanPlay)\r\n        video.removeEventListener('loadedmetadata', handleCanPlay)\r\n      }\r\n    }\r\n  }, [isWebcamActive, inputMode])\r\n\r\n  // Auto-start webcam when switching to webcam mode\r\n  useEffect(() => {\r\n    if (inputMode === 'webcam' && !isWebcamActive && !isStartingWebcam) {\r\n      // Small delay to ensure video element is fully rendered\r\n      const timer = setTimeout(() => {\r\n        if (videoRef.current) {\r\n          startWebcam()\r\n        }\r\n      }, 200)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [inputMode, isWebcamActive, isStartingWebcam])\r\n\r\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (file) {\r\n      const reader = new FileReader()\r\n      reader.onload = (event) => {\r\n        setUploadedImage(event.target?.result as string)\r\n        setDetectionResults(null)\r\n        setError(null)\r\n      }\r\n      reader.readAsDataURL(file)\r\n    }\r\n  }\r\n\r\n  const handleVideoUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (file) {\r\n      if (uploadedVideo) {\r\n        URL.revokeObjectURL(uploadedVideo)\r\n      }\r\n      const videoUrl = URL.createObjectURL(file)\r\n      setUploadedVideo(videoUrl)\r\n      setVideoDetectionResults(null)\r\n      setIsVideoDetectionActive(false)\r\n      if (videoDetectionIntervalRef.current) {\r\n        clearInterval(videoDetectionIntervalRef.current)\r\n        videoDetectionIntervalRef.current = null\r\n      }\r\n    }\r\n  }\r\n\r\n  const startWebcam = async () => {\r\n    if (isStartingWebcam || isWebcamActive) {\r\n      return // Already starting or active\r\n    }\r\n\r\n    setIsStartingWebcam(true)\r\n    setError(null)\r\n\r\n    // Wait for video element to be available\r\n    let retries = 0\r\n    while (!videoRef.current && retries < 10) {\r\n      await new Promise(resolve => setTimeout(resolve, 100))\r\n      retries++\r\n    }\r\n\r\n    if (!videoRef.current) {\r\n      setError('Video element not available. Please try again.')\r\n      console.error('Video ref not available after waiting')\r\n      setIsStartingWebcam(false)\r\n      return\r\n    }\r\n\r\n    try {\r\n      // Try to get user media with flexible constraints\r\n      const constraints = { \r\n        video: {\r\n          facingMode: { ideal: 'environment' },\r\n          width: { ideal: 1280 },\r\n          height: { ideal: 720 }\r\n        } \r\n      }\r\n      \r\n      const stream = await navigator.mediaDevices.getUserMedia(constraints)\r\n      streamRef.current = stream\r\n      \r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream\r\n        setIsWebcamActive(true)\r\n        setError(null)\r\n        \r\n        // Wait a bit for the stream to be ready\r\n        await new Promise(resolve => setTimeout(resolve, 100))\r\n        \r\n        // Ensure video plays\r\n        try {\r\n          await videoRef.current.play()\r\n          console.log('Webcam started successfully')\r\n          setIsStartingWebcam(false)\r\n        } catch (playErr) {\r\n          console.error('Error playing video:', playErr)\r\n          // Try again after a short delay\r\n          setTimeout(async () => {\r\n            if (videoRef.current) {\r\n              try {\r\n                await videoRef.current.play()\r\n                setIsStartingWebcam(false)\r\n              } catch (e) {\r\n                console.error('Retry play failed:', e)\r\n                setIsStartingWebcam(false)\r\n              }\r\n            }\r\n          }, 200)\r\n        }\r\n      }\r\n    } catch (err) {\r\n      // Try fallback with simpler constraints\r\n      try {\r\n        console.log('Trying fallback webcam constraints...')\r\n        const fallbackStream = await navigator.mediaDevices.getUserMedia({ video: true })\r\n        streamRef.current = fallbackStream\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = fallbackStream\r\n          setIsWebcamActive(true)\r\n          setError(null)\r\n          \r\n          await new Promise(resolve => setTimeout(resolve, 100))\r\n          \r\n          try {\r\n            await videoRef.current.play()\r\n            console.log('Webcam started with fallback constraints')\r\n            setIsStartingWebcam(false)\r\n          } catch (playErr) {\r\n            console.error('Error playing video:', playErr)\r\n            setTimeout(async () => {\r\n              if (videoRef.current) {\r\n                try {\r\n                  await videoRef.current.play()\r\n                  setIsStartingWebcam(false)\r\n                } catch (e) {\r\n                  console.error('Retry play failed:', e)\r\n                  setIsStartingWebcam(false)\r\n                }\r\n              }\r\n            }, 200)\r\n          }\r\n        }\r\n      } catch (fallbackErr) {\r\n        const errorMsg = err instanceof Error ? err.message : 'Failed to access webcam'\r\n        setError(`Webcam access denied or not available. ${errorMsg}`)\r\n        console.error('Webcam error:', err)\r\n        console.error('Fallback error:', fallbackErr)\r\n        setIsWebcamActive(false)\r\n        setIsStartingWebcam(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const stopWebcam = () => {\r\n    stopLiveDetection()\r\n    if (streamRef.current) {\r\n      streamRef.current.getTracks().forEach(track => track.stop())\r\n      streamRef.current = null\r\n    }\r\n    if (videoRef.current) {\r\n      videoRef.current.srcObject = null\r\n    }\r\n    setIsWebcamActive(false)\r\n    setIsStartingWebcam(false)\r\n  }\r\n\r\n  // Sync ref with state\r\n  useEffect(() => {\r\n    isLiveDetectionActiveRef.current = isLiveDetectionActive\r\n  }, [isLiveDetectionActive])\r\n\r\n  useEffect(() => {\r\n    isVideoDetectionActiveRef.current = isVideoDetectionActive\r\n  }, [isVideoDetectionActive])\r\n\r\n  // Stop live detection when webcam stops\r\n  useEffect(() => {\r\n    if (!isWebcamActive && isLiveDetectionActive) {\r\n      stopLiveDetection()\r\n    }\r\n  }, [isWebcamActive])\r\n\r\n  // Redraw detection results on window resize\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (isLiveDetectionActive && liveDetectionResults) {\r\n        drawDetectionResults(liveDetectionResults, videoRef.current, canvasRef.current, selectedModel)\r\n      }\r\n      if (isVideoDetectionActive && videoDetectionResults) {\r\n        drawDetectionResults(videoDetectionResults, videoPlayerRef.current, videoCanvasRef.current, selectedModel)\r\n      }\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize)\r\n    return () => window.removeEventListener('resize', handleResize)\r\n  }, [isLiveDetectionActive, liveDetectionResults, isVideoDetectionActive, videoDetectionResults, selectedModel])\r\n\r\n  const captureFromWebcam = () => {\r\n    if (videoRef.current) {\r\n      const canvas = document.createElement('canvas')\r\n      canvas.width = videoRef.current.videoWidth\r\n      canvas.height = videoRef.current.videoHeight\r\n      const ctx = canvas.getContext('2d')\r\n      if (ctx) {\r\n        ctx.drawImage(videoRef.current, 0, 0)\r\n        const imageData = canvas.toDataURL('image/jpeg')\r\n        setUploadedImage(imageData)\r\n        setDetectionResults(null)\r\n        setError(null)\r\n        stopWebcam()\r\n        setInputMode('upload')\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDetect = async () => {\r\n    if (!uploadedImage) return\r\n    setIsLoading(true)\r\n    setError(null)\r\n    const backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://127.0.0.1:5000'\r\n\r\n    try {\r\n      const response = await fetch(`${backendUrl}/api/detect`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          image: uploadedImage,\r\n          model: selectedModel,\r\n          confidence: confidence,\r\n          iou: iouThreshold,\r\n          filter_animals: filterAnimals,\r\n        }),\r\n        mode: 'cors',\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        throw new Error(errorData.error || `API Error: ${response.statusText}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      setDetectionResults(data.results as any)\r\n    } catch (err) {\r\n      const errorMsg = err instanceof Error ? err.message : 'Detection failed'\r\n      setError(`Failed to connect to the backend. Please ensure the backend server is running and accessible at ${backendUrl}. Details: ${errorMsg}`)\r\n      console.error('Detection error:', err)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const runLiveDetection = async () => {\r\n    if (!videoRef.current || isProcessingRef.current) {\r\n      return\r\n    }\r\n\r\n    const video = videoRef.current\r\n\r\n    // Check if video is ready and has valid dimensions\r\n    if (video.readyState !== video.HAVE_ENOUGH_DATA || video.videoWidth === 0 || video.videoHeight === 0) {\r\n      console.log('Video not ready:', { readyState: video.readyState, width: video.videoWidth, height: video.videoHeight })\r\n      return\r\n    }\r\n\r\n    isProcessingRef.current = true\r\n\r\n    try {\r\n      // Capture frame from video\r\n      const tempCanvas = document.createElement('canvas')\r\n      tempCanvas.width = video.videoWidth\r\n      tempCanvas.height = video.videoHeight\r\n      const tempCtx = tempCanvas.getContext('2d')\r\n      if (!tempCtx) {\r\n        isProcessingRef.current = false\r\n        return\r\n      }\r\n      tempCtx.drawImage(video, 0, 0)\r\n      const imageData = tempCanvas.toDataURL('image/jpeg', 0.8)\r\n\r\n      // Run detection\r\n      const backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://127.0.0.1:5000'\r\n      const response = await fetch(`${backendUrl}/api/detect`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          image: imageData,\r\n          model: selectedModel,\r\n          confidence: confidence,\r\n          iou: iouThreshold,\r\n          filter_animals: filterAnimals,\r\n        }),\r\n        mode: 'cors',\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        if (data.results) {\r\n          setLiveDetectionResults(data.results)\r\n          // Use setTimeout to ensure state is updated before drawing\r\n          setTimeout(() => {\r\n            drawDetectionResults(data.results, videoRef.current, canvasRef.current, selectedModel)\r\n          }, 0)\r\n        }\r\n      } else {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        console.error('Detection API error:', errorData)\r\n      }\r\n    } catch (err) {\r\n      console.error('Live detection error:', err)\r\n    } finally {\r\n      isProcessingRef.current = false\r\n    }\r\n  }\r\n\r\n  const drawDetectionResults = (\r\n    results: any,\r\n    videoElement: HTMLVideoElement | null,\r\n    canvasElement: HTMLCanvasElement | null,\r\n    modelKey: string\r\n  ) => {\r\n    if (!canvasElement || !videoElement) {\r\n      console.log('Canvas or video ref not available')\r\n      return\r\n    }\r\n\r\n    const canvas = canvasElement\r\n    const video = videoElement\r\n    const ctx = canvas.getContext('2d')\r\n    if (!ctx) {\r\n      console.log('Could not get canvas context')\r\n      return\r\n    }\r\n\r\n    // Check if video has valid dimensions\r\n    if (video.videoWidth === 0 || video.videoHeight === 0) {\r\n      console.log('Video dimensions are zero')\r\n      return\r\n    }\r\n\r\n    // Get video display dimensions\r\n    const videoRect = video.getBoundingClientRect()\r\n    if (videoRect.width === 0 || videoRect.height === 0) {\r\n      console.log('Video rect dimensions are zero')\r\n      return\r\n    }\r\n\r\n    const videoAspect = video.videoWidth / video.videoHeight\r\n    const displayAspect = videoRect.width / videoRect.height\r\n\r\n    let displayWidth, displayHeight, offsetX, offsetY\r\n\r\n    if (videoAspect > displayAspect) {\r\n      // Video is wider than display\r\n      displayWidth = videoRect.width\r\n      displayHeight = videoRect.width / videoAspect\r\n      offsetX = 0\r\n      offsetY = (videoRect.height - displayHeight) / 2\r\n    } else {\r\n      // Video is taller than display\r\n      displayWidth = videoRect.height * videoAspect\r\n      displayHeight = videoRect.height\r\n      offsetX = (videoRect.width - displayWidth) / 2\r\n      offsetY = 0\r\n    }\r\n\r\n    // Set canvas size to match video display\r\n    canvas.width = videoRect.width\r\n    canvas.height = videoRect.height\r\n\r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n\r\n    // Get detection data\r\n    const detectionData = results[modelKey] || results.yolov8n\r\n    if (!detectionData || !detectionData.detections || detectionData.detections.length === 0) {\r\n      return\r\n    }\r\n\r\n    // Scale factor from video dimensions to display dimensions\r\n    const scaleX = displayWidth / video.videoWidth\r\n    const scaleY = displayHeight / video.videoHeight\r\n\r\n    // Draw bounding boxes\r\n    detectionData.detections.forEach((detection: any) => {\r\n      const { bbox, confidence: conf, class: className } = detection\r\n      if (!bbox || bbox.length !== 4) return\r\n      \r\n      const [x1, y1, x2, y2] = bbox\r\n\r\n      // Scale coordinates to display size\r\n      const scaledX1 = x1 * scaleX + offsetX\r\n      const scaledY1 = y1 * scaleY + offsetY\r\n      const scaledX2 = x2 * scaleX + offsetX\r\n      const scaledY2 = y2 * scaleY + offsetY\r\n      const width = scaledX2 - scaledX1\r\n      const height = scaledY2 - scaledY1\r\n\r\n      // Draw bounding box\r\n      ctx.strokeStyle = '#00ffff'\r\n      ctx.lineWidth = 3\r\n      ctx.strokeRect(scaledX1, scaledY1, width, height)\r\n\r\n      // Draw label background\r\n      const label = `${className} ${(conf * 100).toFixed(1)}%`\r\n      ctx.font = 'bold 14px Arial'\r\n      const textMetrics = ctx.measureText(label)\r\n      const labelWidth = textMetrics.width + 10\r\n      const labelHeight = 20\r\n\r\n      ctx.fillStyle = '#00ffff'\r\n      ctx.fillRect(scaledX1, scaledY1 - labelHeight, labelWidth, labelHeight)\r\n\r\n      // Draw label text\r\n      ctx.fillStyle = '#000000'\r\n      ctx.fillText(label, scaledX1 + 5, scaledY1 - 5)\r\n    })\r\n  }\r\n\r\n  const startLiveDetection = () => {\r\n    if (!isWebcamActive || isLiveDetectionActive) {\r\n      console.log('Cannot start live detection:', { isWebcamActive, isLiveDetectionActive })\r\n      return\r\n    }\r\n\r\n    console.log('Starting live detection...')\r\n    setIsLiveDetectionActive(true)\r\n    isLiveDetectionActiveRef.current = true\r\n    setLiveDetectionResults(null)\r\n\r\n    // Wait a bit for video to be ready, then start detection\r\n    setTimeout(() => {\r\n      if (isWebcamActive && videoRef.current && isLiveDetectionActiveRef.current) {\r\n        console.log('Setting up detection interval')\r\n        // Run detection every 500ms (2 FPS for detection)\r\n        detectionIntervalRef.current = setInterval(() => {\r\n          if (isLiveDetectionActiveRef.current && isWebcamActive && videoRef.current) {\r\n            runLiveDetection()\r\n          } else {\r\n            console.log('Skipping detection:', { \r\n              isLiveActive: isLiveDetectionActiveRef.current, \r\n              isWebcamActive, \r\n              hasVideo: !!videoRef.current \r\n            })\r\n          }\r\n        }, 500)\r\n        // Run first detection immediately\r\n        console.log('Running first detection')\r\n        runLiveDetection()\r\n      } else {\r\n        console.log('Cannot start interval:', { \r\n          isWebcamActive, \r\n          hasVideo: !!videoRef.current, \r\n          isLiveActive: isLiveDetectionActiveRef.current \r\n        })\r\n      }\r\n    }, 500)\r\n  }\r\n\r\n  const stopLiveDetection = () => {\r\n    setIsLiveDetectionActive(false)\r\n    isLiveDetectionActiveRef.current = false\r\n    if (detectionIntervalRef.current) {\r\n      clearInterval(detectionIntervalRef.current)\r\n      detectionIntervalRef.current = null\r\n    }\r\n    // Clear canvas\r\n    if (canvasRef.current) {\r\n      const ctx = canvasRef.current.getContext('2d')\r\n      if (ctx) {\r\n        ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height)\r\n      }\r\n    }\r\n    setLiveDetectionResults(null)\r\n  }\r\n\r\n  const runVideoDetection = async () => {\r\n    if (!videoPlayerRef.current || isVideoProcessingRef.current) {\r\n      return\r\n    }\r\n\r\n    const video = videoPlayerRef.current\r\n\r\n    if (video.readyState !== video.HAVE_ENOUGH_DATA || video.videoWidth === 0 || video.videoHeight === 0) {\r\n      return\r\n    }\r\n\r\n    isVideoProcessingRef.current = true\r\n\r\n    try {\r\n      const tempCanvas = document.createElement('canvas')\r\n      tempCanvas.width = video.videoWidth\r\n      tempCanvas.height = video.videoHeight\r\n      const tempCtx = tempCanvas.getContext('2d')\r\n      if (!tempCtx) {\r\n        isVideoProcessingRef.current = false\r\n        return\r\n      }\r\n      tempCtx.drawImage(video, 0, 0)\r\n      const imageData = tempCanvas.toDataURL('image/jpeg', 0.8)\r\n\r\n      const backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://127.0.0.1:5000'\r\n      const response = await fetch(`${backendUrl}/api/detect`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          image: imageData,\r\n          model: selectedModel,\r\n          confidence: confidence,\r\n          iou: iouThreshold,\r\n          filter_animals: filterAnimals,\r\n        }),\r\n        mode: 'cors',\r\n      })\r\n\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        if (data.results) {\r\n          setVideoDetectionResults(data.results)\r\n          drawDetectionResults(data.results, videoPlayerRef.current, videoCanvasRef.current, selectedModel)\r\n        }\r\n      } else {\r\n        const errorData = await response.json().catch(() => ({}))\r\n        console.error('Video detection API error:', errorData)\r\n      }\r\n    } catch (err) {\r\n      console.error('Video detection error:', err)\r\n    } finally {\r\n      isVideoProcessingRef.current = false\r\n    }\r\n  }\r\n\r\n  const startVideoDetection = () => {\r\n    if (!uploadedVideo || !videoPlayerRef.current || isVideoDetectionActive) return\r\n\r\n    setIsVideoDetectionActive(true)\r\n    isVideoDetectionActiveRef.current = true\r\n    setVideoDetectionResults(null)\r\n\r\n    // Ensure video is playing\r\n    videoPlayerRef.current.play().catch(() => null)\r\n\r\n    // Run detection every 500ms\r\n    videoDetectionIntervalRef.current = setInterval(() => {\r\n      if (\r\n        isVideoDetectionActiveRef.current &&\r\n        videoPlayerRef.current &&\r\n        !videoPlayerRef.current.paused &&\r\n        !videoPlayerRef.current.ended\r\n      ) {\r\n        runVideoDetection()\r\n      }\r\n    }, 500)\r\n\r\n    runVideoDetection()\r\n  }\r\n\r\n  const stopVideoDetection = () => {\r\n    setIsVideoDetectionActive(false)\r\n    isVideoDetectionActiveRef.current = false\r\n    if (videoDetectionIntervalRef.current) {\r\n      clearInterval(videoDetectionIntervalRef.current)\r\n      videoDetectionIntervalRef.current = null\r\n    }\r\n    if (videoCanvasRef.current) {\r\n      const ctx = videoCanvasRef.current.getContext('2d')\r\n      if (ctx) {\r\n        ctx.clearRect(0, 0, videoCanvasRef.current.width, videoCanvasRef.current.height)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-slate-900 flex flex-row\">\r\n      {/* Left Sidebar */}\r\n      <div className=\"w-80 shrink-0 border-r border-gray-700/50 p-6 overflow-y-auto bg-slate-900/40\">\r\n        <Link href=\"/\">\r\n          <div className=\"mb-8 cursor-pointer hover:opacity-80 transition-opacity flex items-center gap-4\">\r\n            <Image\r\n              src=\"/logo.png\"\r\n              alt=\"WildSnap Logo\"\r\n              width={56}\r\n              height={56}\r\n              className=\"w-14 h-14 rounded-full border-2 border-cyan-400 shrink-0\"\r\n            />\r\n            <div>\r\n              <h1 className=\"text-2xl font-black text-white leading-tight\">WildSnap</h1>\r\n              <p className=\"text-gray-400 text-xs\">Animal Detection Studio</p>\r\n            </div>\r\n          </div>\r\n        </Link>\r\n\r\n        {/* Configuration Section */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <h2 className=\"text-white font-semibold text-lg\">Configuration</h2>\r\n          </div>\r\n\r\n          {/* Detection Settings */}\r\n          <div className=\"mb-6 p-4 rounded-lg border border-gray-700/50 bg-gray-900/20\">\r\n            \r\n            {/* Confidence Threshold */}\r\n            <div className=\"mb-5\">\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <label className=\"text-white font-semibold mb-4\">Confidence Threshold</label>\r\n                <span className=\"text-cyan-400 font-bold text-sm\">{confidence.toFixed(2)}</span>\r\n              </div>\r\n              <input\r\n                type=\"range\"\r\n                min=\"0\"\r\n                max=\"1\"\r\n                step=\"0.01\"\r\n                value={confidence}\r\n                onChange={(e) => setConfidence(parseFloat(e.target.value))}\r\n                className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500\"\r\n              />\r\n              <div className=\"flex justify-between text-gray-500 text-xs mt-1\">\r\n                <span>0.00</span>\r\n                <span>1.00</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* IoU Threshold */}\r\n            <div className=\"mb-5\">\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <label className=\"text-white text-sm font-medium\">IoU Threshold</label>\r\n                <span className=\"text-cyan-400 font-bold text-sm\">{iouThreshold.toFixed(2)}</span>\r\n              </div>\r\n              <input\r\n                type=\"range\"\r\n                min=\"0\"\r\n                max=\"1\"\r\n                step=\"0.01\"\r\n                value={iouThreshold}\r\n                onChange={(e) => setIouThreshold(parseFloat(e.target.value))}\r\n                className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500\"\r\n              />\r\n              <div className=\"flex justify-between text-gray-500 text-xs mt-1\">\r\n                <span>0.00</span>\r\n                <span>1.00</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Output Options */}\r\n          <div className=\"mb-6 p-4 rounded-lg border border-gray-700/50 bg-gray-900/20\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <span className=\"text-sm\">üì§</span>\r\n              <h3 className=\"text-white font-semibold\">Output Options</h3>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <label className=\"flex items-center gap-3 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={filterAnimals}\r\n                  onChange={(e) => setFilterAnimals(e.target.checked)}\r\n                  className=\"w-4 h-4 rounded border-gray-700/50 bg-gray-900 accent-red-500\"\r\n                />\r\n                <span className=\"text-gray-300 text-sm\">\r\n                  Filter for animal classes\r\n                  <br />\r\n                  <span className=\"text-gray-500 text-xs\">(YOLOv8n only)</span>\r\n                </span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Model Selection */}\r\n          <div className=\"mb-8\">\r\n          <h2 className=\"text-white font-semibold mb-4\">Detection Models</h2>\r\n          \r\n          <RadioGroup value={selectedModel} onValueChange={setSelectedModel} className=\"space-y-3\">\r\n            <label className=\"flex items-center p-3 rounded-lg border border-gray-700/50 hover:border-cyan-500/30 cursor-pointer transition-colors\">\r\n              <RadioGroupItem value=\"yolov8n\" id=\"yolov8n\" className=\"w-4 h-4\" />\r\n              <span className=\"ml-3 flex-1\">\r\n                <div className=\"text-white font-medium\">YOLOv8n</div>\r\n                <div className=\"text-gray-400 text-xs\">Nano - Lightweight</div>\r\n              </span>\r\n            </label>\r\n\r\n            <label className=\"flex items-center p-3 rounded-lg border border-gray-700/50 hover:border-cyan-500/30 cursor-pointer transition-colors\">\r\n              <RadioGroupItem value=\"best\" id=\"best\" className=\"w-4 h-4\" />\r\n              <span className=\"ml-3 flex-1\">\r\n                <div className=\"text-white font-medium\">Custom Model</div>\r\n                <div className=\"text-gray-400 text-xs\">Personally trained model</div>\r\n              </span>\r\n            </label>\r\n\r\n            <label className=\"flex items-center p-3 rounded-lg border border-gray-700/50 hover:border-cyan-500/30 cursor-pointer transition-colors\">\r\n              <RadioGroupItem value=\"compare\" id=\"compare\" className=\"w-4 h-4\" />\r\n              <span className=\"ml-3 flex-1\">\r\n                <div className=\"text-white font-medium\">Compare</div>\r\n                <div className=\"text-gray-400 text-xs\">Compares Both the Models</div>\r\n              </span>\r\n            </label>\r\n          </RadioGroup>\r\n        </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Right Main Content */}\r\n      <div className=\"flex-1 p-8 flex flex-col overflow-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h2 className=\"text-3xl font-bold text-white mb-2\">Detection Tool</h2>\r\n          <p className=\"text-gray-400\">{isLoading ? '‚è≥ Running detection...' : 'Ready for detection'}</p>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"mb-4 p-4 rounded-lg border border-red-500/50 bg-red-500/10\">\r\n            <p className=\"text-red-400 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Input Mode Toggle */}\r\n        <div className=\"mb-4 flex gap-2\">\r\n          <button\r\n            onClick={() => {\r\n              if (isWebcamActive) {\r\n                stopWebcam()\r\n              }\r\n              stopVideoDetection()\r\n              setInputMode('upload')\r\n            }}\r\n            className={`px-4 py-2 rounded-lg font-semibold transition-colors ${\r\n              inputMode === 'upload'\r\n                ? 'bg-cyan-500 text-white'\r\n                : 'bg-gray-700/50 text-gray-300 hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            üìÅ Upload Image\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setInputMode('webcam')\r\n            }}\r\n            className={`px-4 py-2 rounded-lg font-semibold transition-colors ${\r\n              inputMode === 'webcam'\r\n                ? 'bg-cyan-500 text-white'\r\n                : 'bg-gray-700/50 text-gray-300 hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            üì∑ Webcam\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              if (isWebcamActive) {\r\n                stopWebcam()\r\n              }\r\n              setInputMode('video')\r\n            }}\r\n            className={`px-4 py-2 rounded-lg font-semibold transition-colors ${\r\n              inputMode === 'video'\r\n                ? 'bg-cyan-500 text-white'\r\n                : 'bg-gray-700/50 text-gray-300 hover:bg-gray-700'\r\n            }`}\r\n          >\r\n            üéûÔ∏è Video\r\n          </button>\r\n        </div>\r\n\r\n        {/* Upload Area / Webcam Display */}\r\n        <div className=\"flex-1 rounded-xl border-2 border-dashed border-gray-700/50 bg-gray-900/20 hover:border-cyan-500/30 transition-colors flex flex-col items-center justify-center cursor-pointer group relative\">\r\n          {inputMode === 'webcam' ? (\r\n            <div className=\"relative w-full h-full flex flex-col items-center justify-center min-h-[400px] bg-black/20\">\r\n              <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                playsInline\r\n                muted\r\n                className={`w-full h-full max-w-full max-h-full object-contain rounded-xl bg-black ${isWebcamActive ? '' : 'hidden'}`}\r\n                style={{ minHeight: '400px', minWidth: '100%' }}\r\n              />\r\n              {/* Canvas overlay for detection results */}\r\n              {isWebcamActive && (\r\n                <canvas\r\n                  ref={canvasRef}\r\n                  className=\"absolute top-0 left-0 pointer-events-none\"\r\n                  style={{ \r\n                    zIndex: 1,\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    objectFit: 'contain'\r\n                  }}\r\n                />\r\n              )}\r\n              {!isWebcamActive && (\r\n                <div className=\"text-center absolute inset-0 flex flex-col items-center justify-center\">\r\n                  <div className=\"text-5xl mb-4\">üì∑</div>\r\n                  <p className=\"text-gray-400 font-medium mb-2\">\r\n                    {isStartingWebcam ? 'Starting webcam...' : 'Webcam not active'}\r\n                  </p>\r\n                  {!isStartingWebcam && (\r\n                    <button\r\n                      onClick={startWebcam}\r\n                      className=\"mt-4 px-6 py-3 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-semibold transition-colors\"\r\n                    >\r\n                      Start Webcam\r\n                    </button>\r\n                  )}\r\n                  {isStartingWebcam && (\r\n                    <div className=\"mt-4 px-6 py-3 text-cyan-400\">\r\n                      <div className=\"animate-spin\">‚è≥</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n              {isWebcamActive && (\r\n                <>\r\n                  {/* Live Detection Stats */}\r\n                  {isLiveDetectionActive && (\r\n                    <div className=\"absolute top-4 left-4 bg-black/70 text-white px-4 py-2 rounded-lg z-20\">\r\n                      <div className=\"text-sm font-semibold text-cyan-400 mb-1 flex items-center gap-2\">\r\n                        <span className=\"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse\"></span>\r\n                        Live Detection\r\n                      </div>\r\n                      {liveDetectionResults ? (() => {\r\n                        const detectionData = liveDetectionResults[selectedModel] || liveDetectionResults.yolov8n\r\n                        return detectionData ? (\r\n                          <div className=\"text-xs\">\r\n                            <div>Objects: <span className=\"text-cyan-400 font-bold\">{detectionData.object_count || 0}</span></div>\r\n                            <div>Confidence: <span className=\"text-cyan-400 font-bold\">{((detectionData.avg_confidence || 0) * 100).toFixed(1)}%</span></div>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"text-xs text-gray-400\">Processing...</div>\r\n                        )\r\n                      })() : (\r\n                        <div className=\"text-xs text-gray-400\">Initializing...</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  {/* Control Buttons */}\r\n                  <div className=\"absolute bottom-4 flex gap-3 z-10 flex-wrap justify-center\">\r\n                    <button\r\n                      onClick={stopWebcam}\r\n                      className=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors shadow-lg\"\r\n                    >\r\n                      Stop Webcam\r\n                    </button>\r\n                    {!isLiveDetectionActive ? (\r\n                      <button\r\n                        onClick={startLiveDetection}\r\n                        className=\"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors shadow-lg\"\r\n                      >\r\n                        üéØ Start Live Detection\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        onClick={stopLiveDetection}\r\n                        className=\"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-semibold transition-colors shadow-lg\"\r\n                      >\r\n                        ‚è∏Ô∏è Stop Detection\r\n                      </button>\r\n                    )}\r\n                    <button\r\n                      onClick={captureFromWebcam}\r\n                      className=\"px-6 py-3 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-semibold transition-colors shadow-lg\"\r\n                    >\r\n                      üì∏ Capture Image\r\n                    </button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          ) : inputMode === 'video' ? (\r\n            <div className=\"w-full h-full flex flex-col items-center justify-center p-6 min-h-[400px]\">\r\n              {!uploadedVideo ? (\r\n                <label className=\"w-full h-full flex flex-col items-center justify-center cursor-pointer\">\r\n                  <input type=\"file\" accept=\"video/*\" onChange={handleVideoUpload} className=\"hidden\" />\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-5xl mb-4\">üéûÔ∏è</div>\r\n                    <p className=\"text-gray-400 font-medium mb-2\">Drop or select a video to analyze</p>\r\n                    <p className=\"text-gray-500 text-sm\">Supports MP4, MOV, WebM</p>\r\n                  </div>\r\n                </label>\r\n              ) : (\r\n                <div className=\"relative w-full max-h-[600px] bg-black rounded-xl overflow-hidden\">\r\n                  <video\r\n                    ref={videoPlayerRef}\r\n                    src={uploadedVideo}\r\n                    controls\r\n                    onEnded={stopVideoDetection}\r\n                    className=\"w-full h-full object-contain bg-black rounded-xl\"\r\n                  />\r\n                  <canvas\r\n                    ref={videoCanvasRef}\r\n                    className=\"absolute top-0 left-0 pointer-events-none\"\r\n                    style={{ zIndex: 1, width: '100%', height: '100%', objectFit: 'contain' }}\r\n                  />\r\n                  <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 flex flex-wrap gap-3 z-10\">\r\n                    {!isVideoDetectionActive ? (\r\n                      <button\r\n                        onClick={startVideoDetection}\r\n                        className=\"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors shadow-lg\"\r\n                      >\r\n                        üéØ Start Video Detection\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        onClick={stopVideoDetection}\r\n                        className=\"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-semibold transition-colors shadow-lg\"\r\n                      >\r\n                        ‚è∏Ô∏è Stop Video Detection\r\n                      </button>\r\n                    )}\r\n                    <label className=\"px-6 py-3 bg-gray-700/70 hover:bg-gray-700 text-white rounded-lg font-semibold transition-colors shadow-lg cursor-pointer\">\r\n                      Change Video\r\n                      <input type=\"file\" accept=\"video/*\" onChange={handleVideoUpload} className=\"hidden\" />\r\n                    </label>\r\n                  </div>\r\n                  {isVideoDetectionActive && (\r\n                    <div className=\"absolute top-4 left-4 bg-black/70 text-white px-4 py-2 rounded-lg z-20\">\r\n                      <div className=\"text-sm font-semibold text-cyan-400 mb-1 flex items-center gap-2\">\r\n                        <span className=\"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse\"></span>\r\n                        Video Detection\r\n                      </div>\r\n                      {videoDetectionResults ? (() => {\r\n                        const detectionData = videoDetectionResults[selectedModel] || videoDetectionResults.yolov8n\r\n                        return detectionData ? (\r\n                          <div className=\"text-xs\">\r\n                            <div>Objects: <span className=\"text-cyan-400 font-bold\">{detectionData.object_count || 0}</span></div>\r\n                            <div>Confidence: <span className=\"text-cyan-400 font-bold\">{((detectionData.avg_confidence || 0) * 100).toFixed(1)}%</span></div>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"text-xs text-gray-400\">Processing...</div>\r\n                        )\r\n                      })() : (\r\n                        <div className=\"text-xs text-gray-400\">Initializing...</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <label className=\"w-full h-full flex flex-col items-center justify-center cursor-pointer\">\r\n              <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} className=\"hidden\" />\r\n\r\n              {uploadedImage && !detectionResults ? (\r\n                <div className=\"relative w-full h-full\">\r\n                  <img src={uploadedImage} alt=\"Uploaded\" className=\"w-full h-full object-contain\" />\r\n                  <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-xl\">\r\n                    <span className=\"text-white font-semibold\">Change Image</span>\r\n                  </div>\r\n                </div>\r\n              ) : detectionResults ? (\r\n                <div className=\"relative w-full h-full overflow-auto\">\r\n                  {selectedModel === 'compare' ? (\r\n                    <div className=\"flex h-full gap-4 p-4\">\r\n                      {detectionResults.yolov8n?.image && (\r\n                        <div className=\"flex-1 flex flex-col\">\r\n                          <p className=\"text-cyan-400 text-sm font-semibold mb-2\">YOLOv8n Results</p>\r\n                          <img src={detectionResults.yolov8n.image} alt=\"YOLOv8n Detection\" className=\"flex-1 object-contain\" />\r\n                        </div>\r\n                      )}\r\n                      {detectionResults.best?.image && (\r\n                        <div className=\"flex-1 flex flex-col\">\r\n                          <p className=\"text-cyan-400 text-sm font-semibold mb-2\">Custom best.pt Results</p>\r\n                          <img src={detectionResults.best.image} alt=\"Custom Detection\" className=\"flex-1 object-contain\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <img src={detectionResults[selectedModel]?.image || detectionResults.yolov8n?.image} alt=\"Detection Result\" className=\"w-full h-full object-contain\" />\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-5xl mb-4\">üì∏</div>\r\n                  <p className=\"text-gray-400 font-medium mb-2\">Drop or select an image to begin detection</p>\r\n                  <p className=\"text-gray-500 text-sm\">Supports JPG, PNG, WebP</p>\r\n                </div>\r\n              )}\r\n            </label>\r\n          )}\r\n        </div>\r\n\r\n        {/* Detect Button */}\r\n        {uploadedImage && !detectionResults && (\r\n          <button\r\n            onClick={handleDetect}\r\n            disabled={isLoading}\r\n            className=\"mt-4 px-6 py-3 bg-cyan-500 hover:bg-cyan-600 disabled:bg-gray-600 text-white rounded-lg font-semibold transition-colors\"\r\n          >\r\n            {isLoading ? 'üîÑ Running Detection...' : 'üöÄ Start Detection'}\r\n          </button>\r\n        )}\r\n\r\n        {/* Detection Results Area */}\r\n        {detectionResults && (\r\n          <div className=\"mt-8 p-6 rounded-lg border border-cyan-500/30 bg-cyan-500/10\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-white font-semibold text-lg\">Detection Results</h3>\r\n              <button\r\n                onClick={() => setDetectionResults(null)}\r\n                className=\"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition-colors\"\r\n              >\r\n                Clear\r\n              </button>\r\n            </div>\r\n\r\n            {selectedModel === 'compare' ? (\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                {detectionResults.yolov8n && (\r\n                  <div className=\"border border-gray-700/50 rounded p-3\">\r\n                    <p className=\"text-cyan-400 text-sm font-semibold mb-2\">YOLOv8n</p>\r\n                    <div className=\"space-y-1 text-sm\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Objects Detected:</span>\r\n                        <span className=\"text-white font-bold\">{detectionResults.yolov8n.object_count}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Avg Confidence:</span>\r\n                        <span className=\"text-white font-bold\">{(detectionResults.yolov8n.avg_confidence * 100).toFixed(1)}%</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Inference Time:</span>\r\n                        <span className=\"text-white font-bold\">{detectionResults.yolov8n.inference_time}ms</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {detectionResults.best && (\r\n                  <div className=\"border border-gray-700/50 rounded p-3\">\r\n                    <p className=\"text-cyan-400 text-sm font-semibold mb-2\">Custom best.pt</p>\r\n                    <div className=\"space-y-1 text-sm\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Objects Detected:</span>\r\n                        <span className=\"text-white font-bold\">{detectionResults.best.object_count}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Avg Confidence:</span>\r\n                        <span className=\"text-white font-bold\">{(detectionResults.best.avg_confidence * 100).toFixed(1)}%</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-gray-400\">Inference Time:</span>\r\n                        <span className=\"text-white font-bold\">{detectionResults.best.inference_time}ms</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div>\r\n                  <p className=\"text-gray-400 text-sm\">Objects Detected</p>\r\n                  <p className=\"text-cyan-400 text-2xl font-bold\">{detectionResults[selectedModel]?.object_count || 0}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-sm\">Average Confidence</p>\r\n                  <p className=\"text-cyan-400 text-2xl font-bold\">{((detectionResults[selectedModel]?.avg_confidence || 0) * 100).toFixed(1)}%</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-gray-400 text-sm\">Inference Time</p>\r\n                  <p className=\"text-cyan-400 text-xl font-bold\">{detectionResults[selectedModel]?.inference_time}ms</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Video Detection Results */}\r\n        {videoDetectionResults && inputMode === 'video' && (\r\n          <div className=\"mt-8 p-6 rounded-lg border border-green-500/30 bg-green-500/10\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-white font-semibold text-lg\">Video Detection Snapshot</h3>\r\n              <button\r\n                onClick={() => setVideoDetectionResults(null)}\r\n                className=\"px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition-colors\"\r\n              >\r\n                Clear\r\n              </button>\r\n            </div>\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div>\r\n                <p className=\"text-gray-400 text-sm\">Objects Detected</p>\r\n                <p className=\"text-green-400 text-2xl font-bold\">\r\n                  {(videoDetectionResults[selectedModel]?.object_count) ??\r\n                    videoDetectionResults.yolov8n?.object_count ??\r\n                    0}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-400 text-sm\">Average Confidence</p>\r\n                <p className=\"text-green-400 text-2xl font-bold\">\r\n                  {(\r\n                    ((videoDetectionResults[selectedModel]?.avg_confidence ??\r\n                      videoDetectionResults.yolov8n?.avg_confidence ??\r\n                      0) * 100)\r\n                  ).toFixed(1)}%\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-gray-400 text-sm\">Inference Time</p>\r\n                <p className=\"text-green-400 text-xl font-bold\">\r\n                  {videoDetectionResults[selectedModel]?.inference_time ??\r\n                    videoDetectionResults.yolov8n?.inference_time ??\r\n                    0}\r\n                  ms\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Raw Data Display - Always show when results available */}\r\n        {detectionResults && (\r\n          <div className=\"mt-4 p-4 rounded-lg border border-gray-700/50 bg-gray-900/20 max-h-64 overflow-y-auto\">\r\n            <p className=\"text-gray-300 font-semibold mb-3 text-sm\">üìã Raw Detection Data:</p>\r\n            <div className=\"bg-black/40 rounded p-3 overflow-x-auto\">\r\n              <pre className=\"text-green-400 text-xs font-mono leading-relaxed whitespace-pre-wrap break-word\">\r\n{JSON.stringify(detectionResults, null, 2)}\r\n              </pre>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {videoDetectionResults && inputMode === 'video' && (\r\n          <div className=\"mt-4 p-4 rounded-lg border border-gray-700/50 bg-gray-900/20 max-h-64 overflow-y-auto\">\r\n            <p className=\"text-gray-300 font-semibold mb-3 text-sm\">üìã Raw Video Detection Data:</p>\r\n            <div className=\"bg-black/40 rounded p-3 overflow-x-auto\">\r\n              <pre className=\"text-green-400 text-xs font-mono leading-relaxed whitespace-pre-wrap break-word\">\r\n{JSON.stringify(videoDetectionResults, null, 2)}\r\n              </pre>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}